import{_ as i,c as a,b as n,o as e}from"./app-IQA0dJD3.js";const l={};function h(t,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h2 id="安装自定义显卡驱动版本号" tabindex="-1"><a class="header-anchor" href="#安装自定义显卡驱动版本号"><span>安装自定义显卡驱动版本号</span></a></h2><p><a href="https://www.nvidia.cn/Download/index.aspx?lang=cn" target="_blank" rel="noopener noreferrer">官方驱动 | NVIDIA</a></p><p>在英伟达官网找到合适的驱动版本</p><p>禁用系统自带的 nouveau 驱动：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/modprobe.d/blacklist-nouveau.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加黑名单：写上 <code>blacklist nouveau</code></p><p>然后更新</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update-initramfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>但是有些人禁用后，输入</p><p><code>lsmod | grep nouveau</code></p><p>检查，还是有输出 那就改写成下面这样：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">blacklist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nouveau</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">blacklist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lbm-nouveau</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">options</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nouveau</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> modeset=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">alias</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nouveau</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> off</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">alias</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lbm-nouveau</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> off</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启后<code>ctrl</code> + <code>alt</code> + <code>F1</code>进入命令行，开始操作</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> service lightdm stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 进入驱动目录 ---- 第三步的作用</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># username是你自己的用户名/down是上面建立的，放我们下载的驱动文件</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$cd</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /home/username/down</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 更改权限，tab补全名字</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> chmod a+x NVIDIA-Linux-x86_64-430.34.run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;&#39;&#39; 安装 非常重要*****&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|||||||||||||||||||||||||||||||||||||||||||||||||||||</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./NVIDIA-Linux-x86_64-390.77.run</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">	&#39;&#39;&#39;这里开始就很骚了,大概率会提示你&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">	the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> distribution-provided</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pre-install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scipt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> failed，是否继续安装？</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">	&#39;&#39;&#39;如果你从来没有安装过nvidia驱动，甚至方法一都没有安装过，就走如下流程：&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	# 1.按“continue”；</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	# 2.问你装32-bit库吗？按&#39;NO&#39; ，如果没问就是‘Warning...’无视它，点\`OK\`</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	# 3.问你“would you like to run the nvidia-xconfig ...”  按&#39;NO&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	# 4.一般会让你确认细节，点\`ok\`</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|||||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|||||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">||||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">||||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">||||||</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">BUT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">||||</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">	&#39;&#39;&#39;如果你安装过驱动，请按&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">取消安装</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;，按以下流程走：&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> apt-get remove --purge nvidia</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	 # 1.删除以前安装的文件</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./Nvidiaxxxx你下载的驱动具体名字.run -uninstall 	 </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2.卸载文件内容</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">	&#39;&#39;&#39; 3. 回到上面的第六步和第七步，重新弄一遍&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> reboot  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重启</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./NVIDIA-Linux-x86_64-390.77.run </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. 再安装</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">	# 还是会提醒的，遇到警告也不怕</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">		# 5.按“continue”；</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">		# 6.问你装32-bit库吗？按&#39;NO&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">		# 7.问你“would you like to run the nvidia-xconfig .......”  按&#39;NO&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 开机～</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$sudo</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> service lightdm start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14)]))}const p=i(l,[["render",h]]),k=JSON.parse('{"path":"/article/6j4jzzjo/","title":"重装Ubuntu-的-Nvidia-驱动","lang":"zh-CN","frontmatter":{"title":"重装Ubuntu-的-Nvidia-驱动","createTime":"2024/08/11 11:31:15","permalink":"/article/6j4jzzjo/"},"readingTime":{"minutes":1.56,"words":468},"git":{"updatedTime":1750820984000,"contributors":[{"name":"weiwen","username":"","email":"a1036359215@163.com","commits":1,"avatar":"https://gravatar.com/avatar/cd8e1d2cae5eb43df4bdc241dd3c0611439067bff22550061317525e3b170bab?d=retro"}]},"filePathRelative":"待整理/重装Ubuntu-的-Nvidia-驱动.md","headers":[],"categoryList":[{"id":"e72391","sort":10003,"name":"待整理"}]}');export{p as comp,k as data};
