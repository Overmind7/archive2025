import{_ as s,c as a,b as e,o as n}from"./app-IQA0dJD3.js";const l={};function t(h,i){return n(),a("div",null,i[0]||(i[0]=[e(`<p>https://github.com/MIT-SPARK/Clio</p><h2 id="安装-ros" tabindex="-1"><a class="header-anchor" href="#安装-ros"><span>安装 ros</span></a></h2><h2 id="安装-ros-clio" tabindex="-1"><a class="header-anchor" href="#安装-ros-clio"><span>安装 ros-clio</span></a></h2><p>原项目使用 virtualenv，目前测试下来可以使用 miniforge 虚拟环境（测试过 python 3.8、3.9）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-rosdep</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-catkin-tools</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-vcstool</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>初始化 clio 工作环境</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/catkin_ws/src</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/catkin_ws</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catkin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> init</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catkin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -DCMAKE_BUILD_TYPE=Release</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catkin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --skiplist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> khronos_eval</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下，Clio的依赖项之一 <a href="https://github.com/MIT-SPARK/semantic_inference.git" target="_blank" rel="noopener noreferrer">semantic_inference </a>将尝试针对NVIDIA TensorRT构建。Clio不需要这，如果系统上已经设置了CUDA，则在构建时可能会造成问题。可以在构建前通过运行<code>catkin config -a -DSEMANTIC_INFERENCE_USE_TRT=OFF</code>来禁用此功能。</p><p>下载 clio 并 build</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@github.com:MIT-SPARK/Clio.git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clio</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --recursive</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">vcs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> import</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clio/install/clio.rosinstall</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rosdep</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --from-paths</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --ignore-src</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ..</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catkin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装开放词汇集</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/catkin_ws/src/semantic_inference/semantic_inference[openset]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装 clio</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/catkin_ws/src/clio</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>有部分包需要手动降级</p></blockquote><h2 id="运行-clio-ros" tabindex="-1"><a class="header-anchor" href="#运行-clio-ros"><span>运行 clio-ros</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">source</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/catkin_ws/devel/setup.bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">roslaunch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clio_ros</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> realsense.launch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> object_tasks_file:=/root/data/apartment/tasks_apartment.yaml</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> place_tasks_file:=/root/data/apartment/region_tasks_apartment.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">roslaunch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clio_ros</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> realsense.launch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> object_tasks_file:=/root/apartment/tasks_office.yaml</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> place_tasks_file:=/root/apartment/region_tasks_office.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rosbag</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> play</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> oid.bag</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --clock</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /camera_odom:=/dominic/forward/colmap_odom</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /camera_odom_depth:=/dominic/forward/depth/image_rect_raw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /camera_odom_image:=/dominic/forward/color/image_raw</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://raw.githubusercontent.com/Overmind7/images/main/2025/image-20241212085725371.png" alt="image-20241212085725371"></p>`,20)]))}const r=s(l,[["render",t]]),d=JSON.parse('{"path":"/article/iza96syq/","title":"部署 Clio","lang":"zh-CN","frontmatter":{"title":"部署 Clio","createTime":"2024/12/23 14:13:22","permalink":"/article/iza96syq/"},"readingTime":{"minutes":0.86,"words":259},"git":{"updatedTime":1750820984000,"contributors":[{"name":"weiwen","username":"","email":"a1036359215@163.com","commits":1,"avatar":"https://gravatar.com/avatar/cd8e1d2cae5eb43df4bdc241dd3c0611439067bff22550061317525e3b170bab?d=retro"}]},"filePathRelative":"算法部署/部署 Clio.md","headers":[],"categoryList":[{"id":"69f28e","sort":10002,"name":"算法部署"}]}');export{r as comp,d as data};
